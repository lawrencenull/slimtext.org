(function(){var o;window.editor.commands.addCommand({name:"saveCommand",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:function(){return window.save_file()},readOnly:!1}),o=_.debounce(function(){return 0!==document.title.indexOf("* ")?document.title="* "+document.title:void 0},500,!0),window.editor.getSession().on("change",function(){return o(),window.editor.focus()}),$("body").on("click",".file-link",function(){return window.open_path($(this).data("path"))}),$("body").on("click",".full_window_btn",function(){return window.layout.close("north"),window.layout.close("west"),window.editor.focus()}),$("body").on("click",".save_btn",function(){return window.save_file()}),$("body").on("click",".mode-link",function(){return window.editor.getSession().setMode("ace/mode/"+$(this).data("mode"))}),$("body").on("click",".options_btn",function(){return chrome.tabs.create({url:chrome.extension.getURL("html/options.html")})}),$("body").on("click",".about_btn",function(){return window.notice("Slim Text "+chrome.app.getDetails().version,"Copyright @ 2012 - 2013 slimtext.org",5e3)}),$("body").on("change","#drives_select",function(){return window.open_path($(this).val())}),$("body").on("click",".remove_lines_btn",function(){return window.editor.removeLines()}),$("body").on("click",".lower_case_btn",function(){return window.editor.toLowerCase()}),$("body").on("click",".upper_case_btn",function(){return window.editor.toUpperCase()}),window.onbeforeunload=function(){return chrome.storage.local.set({path:window.storage.path,file:window.storage.file}),0===document.title.indexOf("* ")?'"'+window.storage.file+'" '+chrome.i18n.getMessage("save_before_leaving"):void 0}}).call(this);